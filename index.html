<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Glass Hardware Simulator</title>
    <style>
        body { margin: 0; background: #111; color: #0f0; font-family: 'Courier New', monospace; overflow: hidden; }
        
        /* Glass Viewport */
        #glass-view {
            width: 100vw; height: 100vh;
            border: 40px solid #222; box-sizing: border-box;
            position: relative; background: url('https://images.unsplash.com/photo-1516738901171-8eb4fc13bd20?auto=format&fit=crop&q=80&w=1000') center/cover;
        }

        /* Scan Lines & HUD */
        #hud-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: repeating-linear-gradient(0deg, rgba(0,255,0,0.05) 0px, rgba(0,255,0,0.05) 1px, transparent 2px);
            pointer-events: none;
        }

        /* The Draggable Object (Obstacle) */
        #obstacle {
            position: absolute; width: 100px; height: 100px;
            cursor: move; transition: transform 0.1s;
            display: flex; flex-direction: column; align-items: center;
        }
        #obstacle img { width: 100%; filter: drop-shadow(0 0 10px red); }

        /* Scanning Box */
        #scan-box {
            position: absolute; border: 2px dashed #0f0;
            pointer-events: none; display: none;
        }

        .data-panel {
            position: absolute; top: 60px; left: 60px;
            background: rgba(0,40,0,0.7); padding: 20px;
            border-left: 5px solid #0f0; font-size: 1.2rem;
        }
    </style>
</head>
<body>

<div id="glass-view">
    <div id="hud-overlay"></div>

    <div class="data-panel">
        <div>STATUS: SCANNING...</div>
        <div id="target">TARGET: NONE</div>
        <div id="dist">DISTANCE: -- m</div>
        <div id="alert" style="color: red; font-weight: bold;"></div>
    </div>

    <div id="obstacle">
        <img src="https://cdn-icons-png.flaticon.com/512/564/564619.png" id="obj-img">
        <span style="background:red; color:white; padding:2px 5px; font-size:10px;">OBSTACLE</span>
    </div>

    <div id="scan-box"></div>
</div>

<script>
    const obstacle = document.getElementById('obstacle');
    const scanBox = document.getElementById('scan-box');
    const targetText = document.getElementById('target');
    const distText = document.getElementById('dist');
    const alertText = document.getElementById('alert');

    let isDragging = false;
    let size = 100; // Base size for distance simulation

    // 1. Move Object with Mouse
    document.addEventListener('mousedown', () => isDragging = true);
    document.addEventListener('mouseup', () => isDragging = false);
    
    document.addEventListener('mousemove', (e) => {
        if(isDragging) {
            obstacle.style.left = (e.clientX - size/2) + 'px';
            obstacle.style.top = (e.clientY - size/2) + 'px';
            updateDetection(e.clientX, e.clientY);
        }
    });

    // 2. Simulate Distance with Mouse Wheel
    document.addEventListener('wheel', (e) => {
        size += e.deltaY * -0.1;
        size = Math.min(Math.max(50, size), 400); // Limit size
        obstacle.style.width = size + 'px';
        obstacle.style.height = size + 'px';
        updateDetection();
    });

    function updateDetection() {
        const rect = obstacle.getBoundingClientRect();
        
        // Show Scan Box
        scanBox.style.display = 'block';
        scanBox.style.left = (rect.left - 10) + 'px';
        scanBox.style.top = (rect.top - 10) + 'px';
        scanBox.style.width = (rect.width + 20) + 'px';
        scanBox.style.height = (rect.height + 20) + 'px';

        // 3. Distance Logic (Virtual)
        // Perusa iruntha pakkathula, chinna-tha iruntha dhooram
        const distance = (400 / size).toFixed(1); 
        
        targetText.innerText = "TARGET: CHAIR DETECTED";
        distText.innerText = `DISTANCE: ${distance} m`;

        if(distance < 1.5) {
            alertText.innerText = "WARNING: IMPACT IMMINENT!";
            playAlertSound();
        } else {
            alertText.innerText = "";
        }
    }

    function playAlertSound() {
        // Simple beep logic
        if(!window.speechSynthesis.speaking) {
            const msg = new SpeechSynthesisUtterance("Obstacle ahead. 1 meter.");
            window.speechSynthesis.speak(msg);
        }
    }
</script>

</body>
</html>
